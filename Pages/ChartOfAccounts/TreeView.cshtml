@page
@model TreeViewModel
@{
    ViewData["Title"] = "Account Tree View";
}

<h2>@ViewData["Title"]</h2>

<div class="mt-4">
    @if (Model.AccountTree != null && Model.AccountTree.Count > 0)
    {
        <ul class="tree">
            @foreach (var account in Model.AccountTree)
            {
                <partial name="_AccountTreeNode" model="account" />
            }
        </ul>
    }
    else
    {
        <div class="alert alert-info">No accounts found.</div>
    }
</div>

<style>
    .tree, .tree ul {
        list-style-type: none;
        padding-left: 20px;
    }

        .tree li {
            margin: 5px 0;
            position: relative;
        }

            .tree li:before {
                content: "";
                position: absolute;
                top: -5px;
                left: -20px;
                border-left: 1px solid #ccc;
                border-bottom: 1px solid #ccc;
                width: 20px;
                height: 15px;
            }

            .tree li:after {
                position: absolute;
                content: "";
                top: 10px;
                left: -20px;
                border-left: 1px solid #ccc;
                width: 20px;
                height: 100%;
            }

            .tree li:last-child:after {
                display: none;
            }

            .tree li a {
                display: inline-block;
                padding: 3px 8px;
                text-decoration: none;
                color: #333;
            }

                .tree li a:hover {
                    background-color: #f5f5f5;
                }
</style>